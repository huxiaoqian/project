{% extends 'profile/ajax/ajax_layout.html' %}
{% block body %}
  <script>
  function drawVerifiedpie(){
    var data = this.responseText.split(',');
    if(data.length == 4){
    var verified = new RGraph.Pie('verifiedCanvas',[parseInt(data[0].split("\"")[1]), parseInt(data[1])]);
        verified.Set('chart.title','认证分布');
        verified.Set('chart.labels',['认证','普通']);
        verified.Set('chart.tooltips.effect','expand');
        verified.Set('chart.labels.above',true);
        verified.Set('chart.tooltips.event','onmousemove');
        verified.Set('chart.tooltips', [parseInt(data[2]), parseInt(data[3].split("\"")[0])]);
        verified.Set('chart.highlight.style','3d');
        verified.Set('chart.colors', ['#ff0000', '#ffebeb']);//['#ff0000','#ffb1b1']);//['#81BEF7','#F7819F']);
        verified.Set('chart.linewidth',2);
        verified.Set('chart.strokestyle','black');
        verified.Set('chart.tooltips.effect','fade');
        verified.Draw();
      }
  }
  $(document).ready(function(){
    $.ajax({
      url:"/profile/group_location/{{field}}",
      dataType:"json",
      success:function(data){
        drawChinamap(data);
      }
    });
    RGraph.AJAX('/profile/group_verify/{{field}}', drawVerifiedpie);
    
  })

  </script>
  <style type="text/css">
  /* china map style*/
    #Summary{
    padding:0px;
    margin:0 auto 10px 40px;
    float:left;
    text-align:center;
    }
    #Map{
        padding:0px;
        float:left;
        text-align:center;
    }
    #ChinaMap, #ColorBar{
        width:560px;
        margin:0 auto;
        text-align:center
    }
    .clear-float{clear:both}
    #tiplayer{position:absolute;z-index:1000;max-width:250px;word-wrap:break-word;background:#000;text-align:left;padding:5px;min-height:1em;-moz-border-radius:3px;-khtml-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;color:#fff;font:12px 'Microsoft YaHei',Arial,Tahoma,Sans-Serif;}

    #gradient_bar {
      margin: 165px auto auto 0px;
      text-align:center; 
      float: left;
      padding: 0px;
      border: 1px solid #ddd;
      box-shadow: 0 1px 3px rgba(0,0,0,0.4);
    }
    #gradient_bar ul{
      list-style: none;
      margin: 0;
    } 
    #gradient_bar ul li {
      width: 20px;
      height: 20px;
      display: block;
      padding: 0;
      position: relative;
      overflow: hidden;
    }
    #gradient_bar ul li a {
      width: 30px;
      height: 28px;
      display: block;
      padding: 5px 0 0 0;
      text-decoration: none;
      opacity: 0;
      -moz-transition: opacity linear 0.1s;
      -webkit-transition: opacity linear 0.1s;
      -o-transition: opacity linear 0.1s;
      -ms-transition: opacity linear 0.1s;
      transition: opacity linear 0.1s;
      text-indent: -9999px  9;
    }
    #gradient_bar .txtw {
      color: #ffffff;
      text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.6);
    }
    
  </style>

  <div class="well">
    <legend><strong>认证及地理分布</strong></legend>
    <div id="locationdist" class="result_de container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="row-fluid">
            <div id="Summary"></div>
          </div>
          <div class="row-fluid">
            <div id="verified_container"><canvas id="verifiedCanvas" width="210" height="200" style="cursor: pointer;">[No canvas support]</canvas></div>
          </div>
        </div>
        <div class="harmonies gradient" id="gradient_bar">
          <ul>
            <li style="background-color:#ffffff;"><a href="#ffffff" class="txtb">#ffffff</a></li><li style="background-color:#ffebeb;"><a href="#ffebeb" class="txtb">#ffebeb</a></li><li style="background-color:#ffd8d8;"><a href="#ffd8d8" class="txtb">#ffd8d8</a></li><li style="background-color:#ffc4c4;"><a href="#ffc4c4" class="txtb">#ffc4c4</a></li><li style="background-color:#ffb1b1;"><a href="#ffb1b1" class="txtb">#ffb1b1</a></li><li style="background-color:#ff9d9d;"><a href="#ff9d9d" class="txtb">#ff9d9d</a></li><li style="background-color:#ff8989;"><a href="#ff8989" class="txtb">#ff8989</a></li><li style="background-color:#ff7676;"><a href="#ff7676" class="txtb">#ff7676</a></li><li style="background-color:#ff6262;"><a href="#ff6262" class="txtb">#ff6262</a></li><li style="background-color:#ff4e4e;"><a href="#ff4e4e" class="txtb">#ff4e4e</a></li><li style="background-color:#ff3b3b;"><a href="#ff3b3b" class="txtw">#ff3b3b</a></li><li style="background-color:#ff2727;"><a href="#ff2727" class="txtw">#ff2727</a></li><li style="background-color:#ff1414;"><a href="#ff1414" class="txtw">#ff1414</a></li><li style="background-color:#ff0000;"><a href="#ff0000" class="txtw">#ff0000</a></li>
          </ul>
        </div>
        <div class="span8">
          <div id="Map">
            <div id="ChinaMap"></div>
            <!--<div id="ColorBar"></div>-->
          </div>
        </div>
      </div>
    </div>
  </div>



{% endblock body %}

