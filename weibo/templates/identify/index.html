{% extends "identify/base.html" %}
{% block title %}主页{% endblock %}
{% block content %}
<head>
<link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='css/datarangepiker.css') }}">
</head>
<body>
<div class="container">
  <div class="well">
    <legend>全网敏感博主识别</legend>
    <form id="whole_identify" action="/identify/whole/" class="form-inline" method="POST">
      排序标准:
      <div class="btn-group">
	<a id="whole_rank_method_choosen" class="btn dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);">
	  粉丝数
	  <span class="caret"></span>
	</a>
	<ul id="whole_rank_method_dropdown_menu" class="dropdown-menu">
	  <li><a href="#" onclick="choose_method('whole', 'followers');" data-toggle="tab">粉丝数</a></li>
      	  <li><a href="#" onclick="choose_method('whole', 'active');" data-toggle="tab">活跃度</a></li>
      	  <li><a href="#" onclick="choose_method('whole', 'important');" data-toggle="tab">重要度</a></li>
	</ul>
      </div>
      时间范围:
      <div id="reportrange" class="btn dropdown-toggle">
    <i class="icon-calendar icon-large"></i>
    <span>2013年12月11号 - 2013年12月31号</span> 
	<b class="caret"></b>
	</div>
	
	  
	  
 
	  
      前<input name="top_n" type="text" value="500" class="span1">
      条结果
      每页<input name="page_num" type="text" value="20" class="span1">
      条结果
      <input type="hidden" name="action" value="run">
      <input id="whole_rank_method" type="hidden" name="rank_method" value="followers">
      <input id="whole_window_size" type="hidden" name="window_size" value="7">
      <input type="submit" class="btn btn-primary" value="识别">
    </form>
  </div>
  
  <div class="well">
    <legend>突发敏感博主识别</legend>
    <form id="burst_identify" action="/identify/burst/" class="form-inline" method="POST">
      排序标准:
      <div class="btn-group">
	<a id="burst_rank_method_choosen" class="btn dropdown-toggle" data-toggle="dropdown" href="javascript:void(0);">
	  粉丝数
	  <span class="caret"></span>
	</a>
	<ul id="burst_rank_method_dropdown_menu" class="dropdown-menu">
	  <li><a href="#" onclick="choose_method('burst', 'followers');" data-toggle="tab">粉丝数</a></li>
      	  <li><a href="#" onclick="choose_method('burst', 'active');" data-toggle="tab">活跃度</a></li>
      	  <li><a href="#" onclick="choose_method('burst', 'important');" data-toggle="tab">重要度</a></li>
	</ul>
      </div>
      时间范围:
      <div class="btn-group">
	<a  id="burst_window_size_choosen" class="btn dropdown-toggle" data-toggle="dropdown" href="#">
	  1周
	  <span class="caret"></span>
	</a>
	<ul id="burst_window_size_dropdown_menu" class="dropdown-menu">
	  <li><a href="#" onclick="choose_window('burst', 1);" data-toggle="tab">1天</a></li>
      	  <li><a href="#" onclick="choose_window('burst', 7);" data-toggle="tab">1周</a></li>
      	  <li><a href="#" onclick="choose_window('burst', 30);" data-toggle="tab">1个月</a></li>
      	  <li><a href="#" onclick="choose_window('burst', 90);" data-toggle="tab">3个月</a></li>
	</ul>
      </div>
      前<input name="top_n" type="text" value="500" class="span1">
      条结果
      每页<input name="page_num" type="text" value="20" class="span1">
      条结果
      <input type="hidden" name="action" value="run">
      <input id="burst_rank_method" type="hidden" name="rank_method" value="followers">
      <input id="burst_window_size" type="hidden" name="window_size" value="7">
      <input type="submit" class="btn btn-primary" value="识别">
    </form>

    <div>
      <a href="javascript:void(0);" onclick="show_burst_user();" class="pull-right" title="实时突发用户识别">
	<i class="icon-exclamation-sign"></i>
      </a>
    </div>

    <div id="realtime_burst_user" class="collapse out">
      <div id="burst_user_progress" class="progress progress-striped active">
	<div class="bar" style="width: 100%;"></div>
      </div>
      <div id="loading_burst_data">
      </div>
      <div id="burst_user_table">
	<table class="table table-bordered">
	</table>
      </div>
    </div>

  </div>
  
    <div class="well">
    <legend>领域敏感博主识别</legend>
    <form id="area_identify" action="/identify/area/" class="form-inline" method="POST">
      <input id="topic_keywords" name="topic" type="text" class="span2 search-query" placeholder="子领域">
	  
      前<input name="top_n" type="text" value="500" class="span1">
      条结果
      每页<input name="page_num" type="text" value="20" class="span1">
      条结果
      <input type="hidden" name="action" value="run">
      <input id="area_window_size" type="hidden" name="window_size" value="7">
      <input type="submit" class="btn btn-primary" value="识别">
    </form>
    <ul id="TopicTab" class="nav nav-tabs">
      <li class="active"><a href="#area_1" data-toggle="tab">时政</a></li>
      <li><a href="#area_2" data-toggle="tab">财经</a></li>
      <li><a href="#area_3" data-toggle="tab">体育</a></li>
      <li><a href="#area_4" data-toggle="tab">互联网</a></li>
      <li><a href="/sysadmin/" target="_blank"><i class="icon-cog"></i></a></li> 
    </ul>
    <div id="TopicTabContent" class="tab-content">
      <div class="tab-pane fade active in" id="area_1">
	<ul class="inline">
      	  <li>
      	    <input type="checkbox"> 两会
      	  </li>
      	  <li>
      	    <input type="checkbox"> 长春婴儿
      	  </li>
      	  <li>
      	    <input type="checkbox"> 异地高考
      	  </li>
	</ul>
      </div>
      <div class="tab-pane fade" id="area_2">
	<ul class="inline">
      	  <li>
      	    <input type="checkbox"> 黄金
      	  </li>
      	  <li>
      	    <input type="checkbox"> A股
      	  </li>
      	  <li>
      	    <input type="checkbox"> 存款利率
      	  </li>
	</ul>
      </div>
      <div class="tab-pane fade" id="area_3">
	<ul class="inline">
      	  <li>
      	    <input type="checkbox"> NBA总决赛
      	  </li>
      	  <li>
      	    <input type="checkbox"> 法网
      	  </li>
      	  <li>
      	    <input type="checkbox"> 世界杯预选赛
      	  </li>
	</ul>
      </div>
      <div class="tab-pane fade" id="area_4">
	<ul class="inline">
      	  <li>
      	    <input type="checkbox"> iOS7
      	  </li>
      	  <li>
      	    <input type="checkbox"> WWDC
      	  </li>
      	  <li>
      	    <input type="checkbox"> 微信5.0
      	  </li>
	</ul>
      </div>
    </div>
  </div>
  
    <div class="well">
    <legend>话题敏感博主识别</legend>
    <form id="area_identify" action="/identify/area/" class="form-inline" method="POST">
      <input id="topic_keywords" name="topic" type="text" class="span2 search-query" placeholder="话题">
      时间范围:
      <div class="btn-group">
	<a  id="area_window_size_choosen" class="btn dropdown-toggle" data-toggle="dropdown" href="#">
	  1周
	  <span class="caret"></span>
	</a>
	<ul id="area_window_size_dropdown_menu" class="dropdown-menu">
	  <li><a href="#" onclick="choose_window('area', 1);" data-toggle="tab">1天</a></li>
      	  <li><a href="#" onclick="choose_window('area', 7);" data-toggle="tab">1周</a></li>
      	  <li><a href="#" onclick="choose_window('area', 30);" data-toggle="tab">1个月</a></li>
      	  <li><a href="#" onclick="choose_window('area', 90);" data-toggle="tab">3个月</a></li>
	</ul>
      </div>
      前<input name="top_n" type="text" value="500" class="span1">
      条结果
      每页<input name="page_num" type="text" value="20" class="span1">
      条结果
      <input type="hidden" name="action" value="run">
      <input id="area_window_size" type="hidden" name="window_size" value="7">
      <input type="submit" class="btn btn-primary" value="识别">
    </form>
    <ul id="TopicTab" class="nav nav-tabs">
      <li class="active"><a href="#area_5" data-toggle="tab">您关注过的</a></li>
      <li><a href="#area_6" data-toggle="tab">大家都在关注的</a></li>
      <li><a href="#area_7" data-toggle="tab">系统定制</a></li>
      
      <li><a href="/sysadmin/" target="_blank"><i class="icon-cog"></i></a></li> 
    </ul>
    <div id="TopicTabContent" class="tab-content">
      <div class="tab-pane fade active in" id="area_5">
	<ul class="inline">
      	  <li>
      	    <input type="checkbox"> 两会
      	  </li>
      	  <li>
      	    <input type="checkbox"> 长春婴儿
      	  </li>
      	  <li>
      	    <input type="checkbox"> 异地高考
      	  </li>
	</ul>
      </div>
      <div class="tab-pane fade" id="area_6">
	<ul class="inline">
      	  <li>
      	    <input type="checkbox"> 黄金
      	  </li>
      	  <li>
      	    <input type="checkbox"> A股
      	  </li>
      	  <li>
      	    <input type="checkbox"> 存款利率
      	  </li>
	</ul>
      </div>
      <div class="tab-pane fade" id="area_7">
	<ul class="inline">
      	  <li>
      	    <input type="checkbox"> NBA总决赛
      	  </li>
      	  <li>
      	    <input type="checkbox"> 法网
      	  </li>
      	  <li>
      	    <input type="checkbox"> 世界杯预选赛
      	  </li>
	</ul>
      </div>
      
    </div>
  </div>

  
</div>
{% endblock %}

{% block script %}
  <script src="{{ url_for('static', filename='js/identify/choose.js') }}"></script>
  <script src="{{ url_for('static', filename='js/identify/topic_selector.js') }}"></script>
  <script src="{{ url_for('static', filename='js/identify/burst.js') }}"></script>
  <script src="{{ url_for('static', filename='js/identify/moment.js') }}"></script>
  <script src="{{ url_for('static', filename='js/identify/datarangepiker.js') }}"></script>
  <script type="text/javascript">
    $(document).ready(function() {
  $('#reportrange').daterangepicker({
      ranges: {
         'Today': [moment(), moment()],
         'Yesterday': [moment().subtract('days', 1), moment().subtract('days', 1)],
         'Last 7 Days': [moment().subtract('days', 6), moment()],
         'Last 30 Days': [moment().subtract('days', 29), moment()],
         'This Month': [moment().startOf('month'), moment().endOf('month')],
         'Last Month': [moment().subtract('month', 1).startOf('month'), moment().subtract('month', 1).endOf('month')]
      },
      startDate: moment().subtract('days', 29),
      endDate: moment()
    }, 
    function(start, end) {
	$('#reportrange span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
    }
  );
});

</script>
</body>
  
{% endblock %}
