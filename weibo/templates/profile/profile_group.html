{% extends "profile/base.html" %}
{% block head %}
  <style>
    body{
      padding-top: 60px;
    }
  </style>
{% endblock head%}
{% block content %}
  <script src="/static/js/profile/raphael.js"></script>
  <script src="/static/js/profile/chinamap.js"></script>
  <script src="/static/js/profile/RGraph.common.core.js"></script>
  <script src="/static/js/profile/RGraph.pie.js"></script>
  <script src="/static/js/profile/RGraph.common.dynamic.js"></script>

  <script src="/static/js/profile/d3.v3.min.js"></script>
  <script src="/static/js/profile/d3.layout.cloud.js"></script>
  <script src="/static/js/profile/rgbcolor.js"></script> 
  <script src="/static/js/profile/StackBlur.js"></script>
  <script src="/static/js/profile/canvg.js"></script>

  <div class="container-fluid">
    <div class="row-fluid">
      <div class="span2 well" style="padding: 8px 0;">
        <ul class="nav nav-list">
          {% for f in field %}
            {% if model == f.fieldEnName %}
               <li class="active"><a href="/profile/group/{{f.fieldEnName}}">{{f.fieldZhName}}</a></li>
            {% endif %}
          {% endfor %}
          <li class="nav-header">业务领域</li>
          <li><a href="/profile/group/finance">财经</a></li>
          <li><a href="/profile/group/fashion">时尚</a></li>
          <li><a href="/profile/group/entertainment">娱乐</a></li>
          <li><a href="/profile/group/media">媒体</a></li>
          <li><a href="/profile/group/sports">体育</a></li>
          <li><a href="/profile/group/culture">文化</a></li>
          <li><a href="/profile/group/education">教育</a></li>
          <li><a href="/profile/group/technology">科技</a></li>
          <li><a href="/profile/group/oversea">境外</a></li>
          <li class="nav-header">舆情领域</li>
          <li><a href="/profile/group/university">高校微博</a></li>
          <li><a href="/profile/group/homeadmin">境内机构</a></li>
          <li><a href="/profile/group/abroadadmin">境外机构</a></li>
          <li><a href="/profile/group/homemedia">境内媒体</a></li>
          <li><a href="/profile/group/abroadmedia">境外媒体</a></li>
          <li><a href="/profile/group/folkorg">民间组织</a></li>
          <li><a href="/profile/group/lawyer">律师</a></li>
          <li><a href="/profile/group/politician">政府官员</a></li>
          <li><a href="/profile/group/mediaworker">媒体人士</a></li>
          <li><a href="/profile/group/activer">活跃人士</a></li>
          <li><a href="/profile/group/grassroot">草根</a></li>
          <li><a href="/profile/group/other">其它</a></li>
        </ul>
      </div>

      <div class="span9">
        <legend>{{atfield}}领域</legend>
        <ul class="nav nav-pills tab_container">
          <li class="btn span2 btn-primary" id="tab1">话题兴趣</li>
          <li class="btn span2" id="tab2">认证及地理分布</li>
          <li class="btn span2" id="tab3">微博数量走势</li>
          <li class="btn span2" id="tab4">重要度走势</li>
        </ul>
        <div id="content_container" class="well"></div>
      </div>

    </div><!--row-fluid-->
  </div><!--container-fluid-->
{% endblock content %}
{% block script %}
  <script>
    $('#content_container').empty();
    $('#content_container').load("/profile/person_tab_ajax/grouptopic/{{model}}", function() {});

    tabIdArr = ['tab1', 'tab2', 'tab3', 'tab4'];
    tabUrlArr = ["/profile/person_tab_ajax/grouptopic/{{model}}", "/profile/person_tab_ajax/grouplocation/{{model}}", "/profile/person_tab_ajax/groupweibocount/{{model}}", "/profile/person_tab_ajax/groupimportant/{{model}}"];
    for (var i = 0, len = tabIdArr.length; i < len; i++) {
      document.getElementById(tabIdArr[i]).onclick = function(data) {
        var tabId = data.srcElement.id;
        var tabIdx = parseInt(tabId.substring(3, 4));
        $('#content_container').empty();
        for (var j = 0, len = tabIdArr.length; j < len; j++){
          if(j != tabIdx - 1){
            $("#" + tabIdArr[j]).removeClass('btn-primary');
          }
        }
        $("#" + tabId).addClass('btn-primary');
        $('#content_container').load(tabUrlArr[tabIdx - 1], function() {});
      }
    }
  </script>
{% endblock script %}